import{r as C,b as E,j as o,H as _,K as I,C as w,P as M,T as R,D as k,I as D,R as O,d as P}from"./Insights-D6s0UZol.js";function F(){return C.useMemo(()=>{const{leaders:m,cities:c,enrollments:n}=E,i={};n.forEach(t=>{if(!i[t.city]){const s=c.find(r=>r.name===t.city)||{};i[t.city]={city:t.city,state:t.state,region:s.region||"",population:s.population||0,budget:s.budget||"",total:0,completed:0,inProgress:0,scores:[],leaders:new Set}}const e=i[t.city];e.total++,t.completion_status==="Completed"?(e.completed++,t.score!=null&&e.scores.push(t.score)):e.inProgress++,e.leaders.add(t.record_id)});const p=Object.values(i).map(t=>({...t,leaderCount:t.leaders.size,avgScore:t.scores.length?+(t.scores.reduce((e,s)=>e+s,0)/t.scores.length).toFixed(1):0,completionRate:t.total?+(t.completed/t.total*100).toFixed(0):0})).sort((t,e)=>e.total-t.total),a={};n.forEach(t=>{a[t.course_name]||(a[t.course_name]={name:t.course_name,count:0,center:t.program_center}),a[t.course_name].count++});const h=Object.values(a).sort((t,e)=>e.count-t.count),u={GovEx:{count:0,scores:[]},BCPI:{count:0,scores:[]}};n.forEach(t=>{const e=t.program_center;u[e]&&(u[e].count++,t.completion_status==="Completed"&&t.score!=null&&u[e].scores.push(t.score))});const j=Object.entries(u).map(([t,e])=>({name:t,count:e.count,avgScore:e.scores.length?+(e.scores.reduce((s,r)=>s+r,0)/e.scores.length).toFixed(1):0,pct:+(e.count/n.length*100).toFixed(0)})),l={};n.forEach(t=>{const s=c.find(r=>r.name===t.city)?.region||"Unknown";l[s]||(l[s]={region:s,count:0,cities:new Set}),l[s].count++,l[s].cities.add(t.city)});const f=Object.values(l).map(t=>({...t,cityCount:t.cities.size})).sort((t,e)=>e.count-t.count),g=n.filter(t=>t.completion_status==="Completed"),y=g.filter(t=>t.score!=null).map(t=>t.score),v={totalLeaders:m.length,totalCities:c.length,totalEnrollments:n.length,completionRate:+(g.length/n.length*100).toFixed(0),avgScore:+(y.reduce((t,e)=>t+e,0)/y.length).toFixed(1),totalCompleted:g.length,totalInProgress:n.length-g.length},x={};n.forEach(t=>{if(t.start_date){const e=t.start_date.slice(0,7);x[e]=(x[e]||0)+1}});const S=Object.entries(x).sort(([t],[e])=>t.localeCompare(e)).map(([t,e])=>{const[s,r]=t.split("-"),b=new Date(+s,+r-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"});return{month:t,label:b,count:e}});return{leaders:m,cities:c,enrollments:n,cityStats:p,courseStats:h,centerStats:j,regionStats:f,kpis:v,timeline:S}},[])}const d={marginBottom:"2rem"};function B(){const{leaders:m,enrollments:c,cityStats:n,courseStats:i,centerStats:p,kpis:a,timeline:h}=F();return o.jsxs("div",{children:[o.jsx(_,{}),o.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 1.5rem 3rem"},children:[o.jsxs("div",{style:{padding:"1rem",marginBottom:"1rem",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius)",color:"var(--text-secondary)",fontSize:"0.875rem"},children:["ðŸ“Š ",o.jsx("strong",{children:"Static Version:"})," Using bundled JSON data. This version works everywhere without requiring a backend server."]}),o.jsx(I,{kpis:a}),o.jsx("div",{style:d,children:o.jsx(w,{cityStats:n})}),o.jsx("div",{style:d,children:o.jsx(M,{centerStats:p,courseStats:i})}),o.jsx("div",{style:d,children:o.jsx(R,{timeline:h})}),o.jsx("div",{style:d,children:o.jsx(k,{enrollments:c,leaders:m})}),o.jsx("div",{style:d,children:o.jsx(D,{})})]})]})}O.createRoot(document.getElementById("root")).render(o.jsx(P.StrictMode,{children:o.jsx(B,{})}));
