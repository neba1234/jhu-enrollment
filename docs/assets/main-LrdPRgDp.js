import{c as x,j as e,u as f,H as u,K as y,C as g,P as v,T as j,D as b,I as E,a as S,r as R}from"./Insights-D6s0UZol.js";const k=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B=x("refresh-cw",k);function M({onRefresh:a,loading:t,lastRefreshed:n,isLiveMode:i}){if(!i)return null;const o=r=>r?r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"Never";return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"var(--gold)",borderRadius:"var(--radius)",fontSize:"0.85rem",fontWeight:500,color:"var(--navy)"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:["üî¥ LIVE MODE",n&&e.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:["¬∑ Updated ",o(n)]})]}),e.jsxs("button",{onClick:a,disabled:t,style:{display:"flex",alignItems:"center",gap:"0.35rem",padding:"0.35rem 0.6rem",background:"white",border:"none",borderRadius:"var(--radius)",cursor:t?"not-allowed":"pointer",fontSize:"0.8rem",fontWeight:500,color:"var(--navy)",opacity:t?.6:1,transition:"all 0.2s"},onMouseEnter:r=>!t&&(r.currentTarget.style.transform="scale(1.05)"),onMouseLeave:r=>r.currentTarget.style.transform="scale(1)",children:[e.jsx(B,{size:14,style:{animation:t?"spin 1s linear infinite":"none"}}),t?"Refreshing...":"Refresh"]}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}const s={marginBottom:"2rem"};function T(){const{leaders:a,enrollments:t,cityStats:n,courseStats:i,centerStats:o,kpis:r,timeline:c,isLiveMode:d,loading:m,error:l,lastRefreshed:h,refresh:p}=f();return e.jsxs("div",{children:[e.jsx(u,{}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 1.5rem 3rem"},children:[d&&e.jsx("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"flex-end"},children:e.jsx(M,{onRefresh:p,loading:m,lastRefreshed:h,isLiveMode:d})}),l&&e.jsxs("div",{style:{padding:"1rem",marginBottom:"1rem",background:"#FEE2E2",border:"1px solid #EF4444",borderRadius:"var(--radius)",color:"#991B1B",fontSize:"0.875rem"},children:["‚ö†Ô∏è Failed to load live data: ",l,". Using static fallback data."]}),d&&!l&&r.completionRate===0&&r.totalEnrollments>0&&e.jsxs("div",{style:{padding:"1rem",marginBottom:"1rem",background:"#DBEAFE",border:"1px solid #3B82F6",borderRadius:"var(--radius)",color:"#1E40AF",fontSize:"0.875rem"},children:["‚ÑπÔ∏è ",e.jsx("strong",{children:"Live Mode:"})," Showing ",r.totalEnrollments,' enrollments from Airtable. Completion metrics appear as "‚Äî" because ',e.jsx("code",{children:"completion_status"})," and ",e.jsx("code",{children:"score"})," fields are not populated in the live data. This demonstrates real-world data validation needs."]}),e.jsx(y,{kpis:r}),e.jsx("div",{style:s,children:e.jsx(g,{cityStats:n})}),e.jsx("div",{style:s,children:e.jsx(v,{centerStats:o,courseStats:i})}),e.jsx("div",{style:s,children:e.jsx(j,{timeline:c})}),e.jsx("div",{style:s,children:e.jsx(b,{enrollments:t,leaders:a})}),e.jsx("div",{style:s,children:e.jsx(E,{})}),e.jsx("footer",{style:{textAlign:"center",padding:"1.5rem",fontSize:".75rem",color:"var(--slate)",borderTop:"1px solid var(--border)",marginTop:"1rem"},children:"Prepared for the Dean's Review ¬∑ JHU School of Government & Policy ¬∑ Data as of December 2025"})]})]})}S.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(T,{})}));
